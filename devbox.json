{
  "packages": [
    "github:dwayne/deploy",
    "elmPackages.elm@latest",
    "elmPackages.elm-format@latest",
    "elmPackages.elm-test@latest",
    "gnumake@latest",
    "nodejs@22",
    "nushell@latest",
    "pnpm@latest",
    "rsync@latest"
  ],
  "env": {
    "ASTRO_BASE": "/elm-fm-contact-form/",
    "PATH": "$DEVBOX_PROJECT_ROOT/bin:$DEVBOX_PROJECT_ROOT/app/node_modules/.bin:$DEVBOX_PROJECT_ROOT/workshop/node_modules/.bin:$PATH",
    "project": "$DEVBOX_PROJECT_ROOT"
  },
  "shell": {
    "init_hook": [
      "[[ ! -d $project/app/node_modules ]] && cd $project/app && pnpm install --silent",
      "[[ ! -d $project/workshop/node_modules ]] && cd $project/workshop && pnpm install --silent",
      "alias d='app dev'",
      "alias f='app format'",
      "alias b='app build'",
      "alias p='app preview'",
      "alias t='app test'",
      "alias wd='workshop dev'",
      "alias wb='workshop build'",
      "alias wp='workshop preview'"
    ]
  }
}
